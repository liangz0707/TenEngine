# DirectX 12（D3D12）

## 引入方式

**system**（Windows 平台系统库，随 Windows SDK 提供）

## 名称与简介

**DirectX 12（D3D12）**：Microsoft 的显式、低开销图形 API，用于 008-RHI 的 D3D12 后端。对应 Unreal RHID3D12、Unity D3D12 实现。

## 仓库/来源

- **来源**：Windows SDK（随 Visual Studio 或独立安装）  
- **头文件**：`d3d12.h`、`dxgi1_4.h`、`d3dx12.h`（后者可选，为 D3D12 示例辅助头文件，可自维护或引用第三方）  
- **库**：`d3d12.lib`、`dxgi.lib`  
- **平台**：仅 Windows 10+

## 许可证

Microsoft proprietary；随 Windows SDK 授权使用。

## CMake 集成

```cmake
if(WIN32)
  target_link_libraries(te_rhi PRIVATE d3d12 dxgi)
  # 头文件由 Windows SDK 提供，MSVC 自动解析
endif()
```

若需 DXC（DirectX Shader Compiler）用于 HLSL→DXIL：

```cmake
# DXC 可为 source（FetchContent）或 sdk，见 dxc 或 010-Shader 文档
# 此处仅 D3D12 运行时库
target_link_libraries(te_rhi PRIVATE d3d12 dxgi)
```

## 引用方式（自动集成）

- **变量**：`TENENGINE_RHI_D3D12=ON`（当 RHI D3D12 后端启用时，默认 Windows 下可选）。  
- **清单**：`d3d12`。  
- **宏**：编译 D3D12 后端代码时定义 `TE_RHI_D3D12`。

## 可选配置

- **平台**：仅 Windows 10 及以上；需 Windows SDK 10.0.19041.0 或更新（支持 D3D12）。  
- **Shader**：HLSL 编译为 DXIL 需 DXC（DirectX Shader Compiler）；见 010-Shader、glslang、SPIRV-Cross 等。  
- **调试**：启用 D3D12 Debug Layer（`ID3D12Debug`、`ID3D12DeviceRemovedExtendedData`）用于开发期诊断。  
- **特性**：支持 Resource Binding Tier、Raytracing（DXR）等扩展；按需检测 `D3D12_FEATURE_*`。

## 使用模块

008-RHI（D3D12 后端）；009-RenderCore、020-Pipeline 等通过 RHI 间接使用。
