# 用户故事（User Stories）

本目录存放 **TenEngine T0 架构** 下「可交付的端到端行为」——**用户故事**：从「用户/系统在做什么」反推涉及的模块、每模块职责与输入/输出，并派生出各模块需要的**类型、函数签名、回调/事件**，严格按 **`docs/engine-abi-interface-generation-spec.md`** 的代码标准、命名规范、注释规范写成可放入全局 ABI 的条目。

---

## 协作方式（B）

| 步骤 | 您提供 | 产出 |
|------|--------|------|
| B.1 | 用户故事（可交付的端到端行为） | 按故事拆解：涉及哪些模块、每模块职责与输入/输出 |
| B.2 | （可选）无 | 补充重要但缺失的用户故事，同格式写入本目录 |
| B.3 | — | 关键用户故事单独成文并纳入 [000-user-stories-index.md](./000-user-stories-index.md) |
| B.4 | — | 每故事涉及的模块：类型、函数签名、回调/事件，**严格按 ABI/接口生成规范**写成可放入全局 ABI 的条目 |

---

## 用户故事格式（建议）

每条用户故事建议包含：

1. **标题**：一句话描述可交付的端到端行为。
2. **角色/触发**：谁（用户/系统）在什么场景下触发。
3. **端到端流程**：从触发到完成的步骤（可含分支、异步回调、用户操作）。
4. **涉及模块**：列出参与该行为的模块（001-Core … 027-XR）。
5. **每模块职责与 I/O**：
   - 模块名
   - 职责（该故事下该模块要做什么）
   - 输入（参数、上游事件、回调参数）
   - 输出（返回值、下发事件、回调调用）
6. **派生接口（ABI 条目）**：按 `docs/engine-abi-interface-generation-spec.md` 写出的类型、函数签名、回调/事件，可直接填入 `specs/_contracts/NNN-modulename-ABI.md`。

---

## 与本目录的关系

- **索引**：[000-user-stories-index.md](./000-user-stories-index.md) 列出关键用户故事、涉及模块、对应故事文档。
- **单篇故事**：可在此目录下新建 `US-xxx-简短描述.md`（如 `US-001-async-load-resource.md`），内容按上述格式填写；派生出的 ABI 条目可写在故事文档内，或汇总到各模块 ABI 文件。

---

## 与 ABI/契约的衔接

- 从用户故事推导出的接口，**必须**符合 **`docs/engine-abi-interface-generation-spec.md`**（§1 代码标准、§2 命名规范、§3 注释规范）。
- 定稿后的条目同步到 **`specs/_contracts/NNN-modulename-ABI.md`** 及对应契约（若涉及能力描述）；ABI 总索引见 **`specs/_contracts/000-module-ABI.md`**。
